//  -----------------------------------------------------------------------------
// This file was autogenerated by symforce. Do NOT modify by hand.
// -----------------------------------------------------------------------------

#pragma once

// Import all the known types.
#include <sym/linear_camera_cal.h>
#include <sym/ops/lie_group_ops.h>
#include <sym/ops/storage_ops.h>
#include <sym/pose2.h>
#include <sym/pose3.h>
#include <sym/rot2.h>
#include <sym/rot3.h>
#include <sym/util/typedefs.h>

#include <lcmtypes/symforce/type_t.hpp>

namespace sym {

template <typename T>
static constexpr const bool kIsEigenType = std::is_base_of<Eigen::MatrixBase<T>, T>::value;

using type_t = symforce::type_t;

/**
 * Helper to handle polymorphism by creating a switch from a runtime type enum to dispatch
 * to the templated method func. Used to perform type-aware operations.
 *
 * Args:
 *   name: Name of the output function (ex: PrintByType)
 *   func: Name of a function template (ex: PrintHelper)
 */
#define BY_TYPE_HELPER(name, func)                  \
  template <typename Scalar, typename... Args>      \
  void name(const type_t type, Args&&... args) {    \
    switch (type.value) {                           \
      case type_t::ROT2:                            \
        func<sym::Rot2<Scalar>>(args...);           \
        break;                                      \
      case type_t::ROT3:                            \
        func<sym::Rot3<Scalar>>(args...);           \
        break;                                      \
      case type_t::POSE2:                           \
        func<sym::Pose2<Scalar>>(args...);          \
        break;                                      \
      case type_t::POSE3:                           \
        func<sym::Pose3<Scalar>>(args...);          \
        break;                                      \
      case type_t::SCALAR:                          \
        func<Scalar>(args...);                      \
        break;                                      \
        {% for i in range(1, 10) %}
      case type_t::VECTOR{{ i }}:                   \
        func<Eigen::Matrix<Scalar, {{ i }}, 1>>(args...); \
        break;                                      \
        {% endfor %}
        {% for i in range(1, 10) %}
        {% for j in range(2, 10) %}
      case type_t::MATRIX{{ i }}{{ j }}:            \
        func<Eigen::Matrix<Scalar, {{ i }}, {{ j }}>>(args...); \
        break;                                      \
        {% endfor %}
        {% endfor %}
      default:                                      \
        break;                                      \
    }                                               \
  }

}  // namespace sym
