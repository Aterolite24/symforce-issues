{%- import "../../../util/util.jinja" as util with context -%}

//  ----------------------------------------------------------------------------
// This file was autogenerated by symforce. Do NOT modify by hand.
// -----------------------------------------------------------------------------

#include "./storage_ops.h"

namespace sym {
namespace {{ camelcase_to_snakecase(cls.__name__) }} {

template <typename ScalarType>
void StorageOps<ScalarType>::ToStorage(const sym::{{ cls.__name__ }}<ScalarType>& a, ScalarType* out) {
  assert(out != nullptr);
  std::copy_n(a.Data().data(), a.StorageDim(), out);
}

template <typename ScalarType>
sym::{{ cls.__name__ }}<ScalarType> StorageOps<ScalarType>::FromStorage(const ScalarType* data) {
  assert(data != nullptr);
  return sym::{{ cls.__name__ }}<ScalarType>(
    Eigen::Map<const typename sym::{{ cls.__name__ }}<ScalarType>::DataVec>(data));
}

}  // namespace {{ camelcase_to_snakecase(cls.__name__) }}
}  // namespace sym


// Explicit instantiation
{% for Scalar in scalar_types %}
template struct sym::{{ camelcase_to_snakecase(cls.__name__) }}::StorageOps<{{ Scalar }}>;
{% endfor %}
