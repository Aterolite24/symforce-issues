//  -----------------------------------------------------------------------------
// This file was autogenerated by symforce. Do NOT modify by hand.
// -----------------------------------------------------------------------------
/**
C++ StorageOps implementation for types in "{{ spec.name }}".
*/
#pragma once

#include <vector>

// Create default template traits that implement StorageOps. These will get specialized.
// TODO(hayk): Perhaps StorageOps should always live in the symforce namespace.
namespace {{ spec.name }} {
namespace StorageOps {

template<typename T>
size_t StorageDim() {
    return T::StorageDim();
};

template<typename T>
void ToStorage(const T& value, std::vector<{{ spec.scalar_type }}>* vec) {
    return value.ToStorage(vec);
}

template<typename Container, typename T>
void FromStorage(const Container& elements, T* out) {
    return T::FromStorage(elements, out);
}

}  // namespace StorageOps
}  // namespace {{ spec.name }}

// Include StorageOps specializations for each type
{% for typename in typenames %}
#include <{{ spec.name }}/storage_ops/{{ typename }}.h>
{% endfor %}
