# -----------------------------------------------------------------------------
# This file was autogenerated by symforce. Do NOT modify by hand.
# -----------------------------------------------------------------------------
"""
Defines operations for the type "{{ typename }}" to meet the StorageOps concept.
"""

{% set keys = spec.types[typename]['keys_recursive'] -%}

STORAGE_DIM = {{ keys|length }}


def to_storage(self):
    return [
        {% for key in keys %}
        self.{{ key }},
        {% endfor %}
    ]
    return elements

@classmethod
def from_storage(cls, elements):
    val = cls()
    {% for key in keys %}
    val.{{ key }} = elements[{{ loop.index - 1 }}]
    {% endfor %}
    return val


def register(storage_type):
    """
    Call on the type to register in these operations dynamically.

    Args:
        storage_type ({{ typename }}):
    """
    storage_type.STORAGE_DIM = STORAGE_DIM
    storage_type.to_storage = to_storage
    storage_type.from_storage = from_storage
